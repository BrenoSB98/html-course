<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!--<link rel="stylesheet" href="../css/images.css">-->
  <title>Image</title>
</head>

<body>
  <nav>
    <a href="../index.html">Home Page</a>
  </nav>
  <div nl-slider>
    <p>
      <img src="http://files.cod3r.com.br/curso-web/imagem1.jpg" alt="Muro da Cidade" width="513" height="342" title="Muro da Cidade por Tarso Bessa">
    </p>

    <p>
      <img src="http://files.cod3r.com.br/curso-web/imagem2.gif" alt="Intro Cod3r" height="342">
    </p>

    <p class="circular">
      <img src="http://files.cod3r.com.br/curso-web/imagem3.png" alt="Rio de Janeiro" height="342">
    </p>

    <p class="text">
      <img src="http://files.cod3r.com.br/curso-web/avatar.jpg" alt="Avatar" height="50">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Iure nisi ex molestias nesciunt quod tempora, asperiores tempore repellendus amet? Sit odit voluptas eveniet maiores vitae rem illo aspernatur autem voluptatem!
    </p>

    <p class="city"></p>

    <p>
      <picture>
        <source srcset="http://files.cod3r.com.br/curso-web/logo-larga.png" media="(min-width: 600px)">
        <img src="http://files.cod3r.com.br/curso-web/logo-estreita.png" alt="Logo">
      </picture>
    </p>
  </div>

  <script>
    function move(element, beginning, end, pass, callback) {
      const newBeginning = beginning - pass
      if (newBeginning >= end) {
        element.style.left = newBeginning + 'px'
        setTimeout(() => move(element, newBeginning, end, pass, callback), 7)
      } else {
        callback()
      }
    }

    function slider() {
      const elements = document.querySelectorAll('[nl-slider] > p')
      const slides = Array.from(elements)
      showSlide(slides, slides[0])
    }

    function showSlide(slides, slide) {
      slide.style.display = 'block'

      const beginning = innerWidth
      const end = -slide.clientWidth

      slide.style.left = `${beginning}px`

      move(slide, beginning, end, 5, () => {
        slide.style.display = 'none'
        showSlide(slides, getNext(slides, slide))
      })
    }

    function getNext(list, atual) {
      const i = list.indexOf(atual) + 1
      return i < list.length ? list[i] : list[0]
    }

    slider()
  </script>
</body>

</html>